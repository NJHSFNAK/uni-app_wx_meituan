{"version":3,"sources":["webpack:///D:/B站之VUE/04_uni-app/04_wxmeituann/pages/takeout/components/ordering.vue?ee00","webpack:///D:/B站之VUE/04_uni-app/04_wxmeituann/pages/takeout/components/ordering.vue?9767","webpack:///D:/B站之VUE/04_uni-app/04_wxmeituann/pages/takeout/components/ordering.vue?2159","webpack:///D:/B站之VUE/04_uni-app/04_wxmeituann/pages/takeout/components/ordering.vue?c6a4","uni-app:///pages/takeout/components/ordering.vue","webpack:///D:/B站之VUE/04_uni-app/04_wxmeituann/pages/takeout/components/ordering.vue?5567","webpack:///D:/B站之VUE/04_uni-app/04_wxmeituann/pages/takeout/components/ordering.vue?d5ee"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACqC;;;AAG5F;AACgL;AAChL,gBAAgB,6KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAsqB,CAAgB,knBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgF1rB,O,CAAA,G,YAAA,G;;AAEA;;;AAGA;AACA;AACA,gBADA,EADA;;AAIA;AACA;AACA,iBADA;AAEA,iBAFA,EADA;;AAKA;AACA,kBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EALA,EAJA;;;AAgBA,MAhBA,kBAgBA;AACA;AACA;AACA,qBAFA;AAGA;AACA,oBAJA;AAKA;AACA,oBANA;AAOA;AACA,qBARA;AASA;AACA,oBAVA;AAWA;AACA,mBAZA;AAaA;AACA,iBAdA;AAeA;AACA,wBAhBA;AAiBA;AACA,eAlBA;AAmBA;AACA,uBApBA;AAqBA;AACA,sBAtBA;AAuBA;AACA,mBAxBA;AAyBA;AACA,oBA1BA;AA2BA;AACA,iBA5BA;AA6BA;AACA,oBA9BA;AA+BA;AACA,kBAhCA;AAiCA;AACA,cAlCA;;AAoCA,GArDA;AAsDA;AACA;AACA,eAFA,uBAEA,KAFA,EAEA,WAFA,EAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA,KAXA;AAYA;AACA,QAbA,gBAaA,OAbA,EAaA,MAbA,EAaA,KAbA,EAaA,KAbA,EAaA,KAbA,EAaA,KAbA,EAaA;AACA;AACA;AACA,KAhBA;AAiBA;AACA,UAlBA,kBAkBA,OAlBA,EAkBA,MAlBA,EAkBA,KAlBA,EAkBA,KAlBA,EAkBA,KAlBA,EAkBA,KAlBA,EAkBA;AACA;AACA;AACA,KArBA;AAsBA;AACA,YAvBA,oBAuBA,MAvBA,EAuBA,KAvBA,EAuBA,KAvBA,EAuBA,KAvBA,EAuBA,KAvBA,EAuBA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,OARA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,sBADA;AAEA,8BAFA;AAGA,oBAHA;AAIA,oBAJA;AAKA,6BALA;AAMA,oBANA;;AAQA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA,KA9DA;AA+DA;AACA,cAhEA,wBAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA,OALA,MAKA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BADA;AAEA,iCAFA;AAGA,gCAHA;AAIA,qCAJA;AAKA,iCALA;AAMA,yBANA;AAOA,mCAPA;;AASA;AACA;AACA;AACA,yDADA;;AAGA;AACA,KA/FA,EAtDA;;AAuJA;AACA,cADA,wBACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,EAGA,EAHA;AAIA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA,KAvBA;AAwBA;AACA,aAzBA,uBAyBA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA,MAKA;AACA;AACA;AACA;AACA;AACA,KA1CA,EAvJA;;AAmMA;AACA;AACA,gBAFA,wBAEA,QAFA,EAEA,QAFA,EAEA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA,KA7BA;AA8BA;AACA,YA/BA,oBA+BA,QA/BA,EA+BA,QA/BA,EA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3CA,EAnMA,E;;;;;;;;;;;;;ACrFA;AAAA;AAAA;AAAA;AAA2+B,CAAgB,+3BAAG,EAAC,C;;;;;;;;;;;ACA//B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/takeout/components/ordering.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./ordering.vue?vue&type=template&id=0bf8a0c8&scoped=true&\"\nvar renderjs\nimport script from \"./ordering.vue?vue&type=script&lang=js&\"\nexport * from \"./ordering.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bf8a0c8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/takeout/components/ordering.vue\"\nexport default component.exports","export * from \"-!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ordering.vue?vue&type=template&id=0bf8a0c8&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.flat && _vm.settLement()\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ordering.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ordering.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- 商品展示下单 -->\r\n\t<view class=\"ordering-fls\">\r\n\t\t<!-- 商品分类左边 -->\r\n\t\t<view class=\"ordering-left\">\r\n\t\t\t<block v-for=\"(item,index) in orderclass\" :key=\"index\">\r\n\t\t\t<text :class=\"{activeord:index === currentIndex}\" \r\n\t\t\t\t@click=\"ordermeClic(index,item)\">{{item}}</text>\r\n\t\t\t</block>\r\n\t\t</view>\r\n\t\t<!-- 商品列表：右边 -->\r\n\t\t<view class=\"ordering-right\">\r\n\t\t\t<text class=\"ordering-right-title\">{{ordertitle}}</text>\r\n\t\t\t<view>\r\n\t\t\t\t<block v-for=\"(item,index) in classifarr\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"content-view\">\r\n\t\t\t\t\t\t<!-- 左边商品图片 -->\r\n\t\t\t\t\t\t<view class=\"content-img\">\r\n\t\t\t\t\t\t\t<image :src=\"item.objdis.image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t</view> \r\n\t\t\t\t\t\t<!-- 右边商品详情 -->\r\n\t\t\t\t\t\t<view class=\"content-title\">\r\n\t\t\t\t\t\t\t<text class=\"conteng-take\">{{item.objdis.input}}</text>\r\n\t\t\t\t\t\t\t<view class=\"conteng-monthly\">\r\n\t\t\t\t\t\t\t\t<block v-for=\"(itemdata,index) in item.objdis.tags\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<text>{{itemdata}}</text>\r\n\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"conteng-starting\">\r\n\t\t\t\t\t\t\t\t<text>月售10</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"conteng-price\">\r\n\t\t\t\t\t\t\t\t<view class=\"conteng-shi\">¥{{item.objdis.Discount}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"conteng-hua\">¥{{item.objdis.Price}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"ordering-price\">\r\n\t\t\t\t\t\t\t\t\t<!-- 传的值是商品数量、每个商品唯一的id、每个商品的index、每个商品的单价、每个商品的图片、每个商品的名称 -->\r\n\t\t\t\t\t\t\t\t\t<image @click=\"reDuce(item.amount,item._id,index,item.objdis.Discount,item.objdis.image,item.objdis.input)\"  \r\n\t\t\t\t\t\t\t\t\t\tsrc=\"../../../static/coen/jianhao.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t\t<text class=\"amounting\">{{item.amount}}</text>\r\n\t\t\t\t\t\t\t\t\t<image @click=\"pLus(item.amount,item._id,index,item.objdis.Discount,item.objdis.image,item.objdis.input)\" \r\n\t\t\t\t\t\t\t\t\t\tsrc=\"../../../static/coen/jiahao.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 总价计算区域 -->\r\n\t\t<view class=\"Shopping\">\r\n\t\t\t<!-- 骑手 -->\r\n\t\t\t<view class=\"qishou\">\r\n\t\t\t\t<image v-if=\"!isActive\" src=\"../../../static/coen/weigou.png\" mode=\"widthFix\"></image>\r\n\t\t\t\t<image v-if=\"isActive\" src=\"../../../static/coen/yigou.png\" mode=\"widthFix\"></image>\r\n\t\t\t</view>\r\n\t\t\t<!-- 多少量 -->\r\n\t\t\t<view class=\"Numbering\" v-if=\"isActive\">{{takeLength.length}}</view>\r\n\t\t\t<!-- 金额 -->\r\n\t\t\t<view class=\"Shopping-dis\">\r\n\t\t\t\t<view class=\"Shopping-left\">\r\n\t\t\t\t\t<view class=\"Cost-mony\">\r\n\t\t\t\t\t\t<text class=\"Total-price\">¥{{Takeawayprice}}</text>\r\n\t\t\t\t\t\t<text class=\"Delivery\">另需配送费{{physical}}元</text>\r\n\t\t\t\t\t</view> \r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"Shopping-right\" :class=\"{shoppactive: isActive}\" \r\n\t\t\t\t\t@click=\"flat && settLement()\">\r\n\t\t\t\t\t<!-- 商品未加入购物车是x元起送 -->\r\n\t\t\t\t\t<text v-if=\"!isActive\">{{delivering}}元起送</text>\r\n\t\t\t\t\t<!-- 商品加入购物车是x元结算 -->\r\n\t\t\t\t\t<text v-if=\"isActive\">{{difference}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 登录弹窗组件 -->\r\n\t\t<modal ref=\"mon\"></modal>\r\n\t</view>\n</template>\n\n<script>\r\n\tvar {log} = console;\r\n\t\r\n\t// 引入弹窗组件\r\n\timport modal from '@/element/modal.vue';\r\n\t\r\n\texport default{\r\n\t\tcomponents: {\r\n\t\t\tmodal\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\torderingdata: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: []\r\n\t\t\t},\r\n\t\t\tbusidata:{\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault(){\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 为左边商品动态添加样式\r\n\t\t\t\tcurrentIndex: 0,\r\n\t\t\t\t// 左边商品的文字\r\n\t\t\t\torderclass:[],\r\n\t\t\t\t// 动态显示左边商品被选中的文字\r\n\t\t\t\tordertitle:'',\r\n\t\t\t\t// 控制外卖小哥的图片是否高亮\r\n\t\t\t\tisActive: false,\r\n\t\t\t\t// 用户进入页面右边默认展示的商品数据\r\n\t\t\t\tclassifarr: [],\r\n\t\t\t\t// 右边商品的总数据\r\n\t\t\t\tcommodity:{},\r\n\t\t\t\t// 商家配送费\r\n\t\t\t\tphysical: 0,\r\n\t\t\t\t// 商家起送费\r\n\t\t\t\tdelivering: Number,\r\n\t\t\t\t// 商品数量\r\n\t\t\t\tamount: 0,\r\n\t\t\t\t// 存放得到总价的商品\r\n\t\t\t\tarrtotalPrice:[],\r\n\t\t\t\t// 商品总价\r\n\t\t\t\tTakeawayprice: 0,\r\n\t\t\t\t// 用户选择几份商品\r\n\t\t\t\ttakeLength: 0,\r\n\t\t\t\t// 离起送金额还差多少钱\r\n\t\t\t\tdifference: '',\r\n\t\t\t\t// 控制去结算按钮是否可以点击\r\n\t\t\t\tflat: false,\r\n\t\t\t\t// 商家标识\r\n\t\t\t\tMerchantId: '',\r\n\t\t\t\t// 商家名称\r\n\t\t\t\tnameshop: '',\r\n\t\t\t\t// 商家logo\r\n\t\t\t\tlogo:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 为左边商品动态添加样式\r\n\t\t\tordermeClic(index,classifitem) {\r\n\t\t\t\tthis.currentIndex = index;\r\n\t\t\t\tthis.ordertitle = classifitem;\r\n\t\t\t\t// 分类切换\r\n\t\t\t\tlet itemarr = this.commodity.filter((item)=>{\r\n\t\t\t\t\treturn item.optidata === classifitem;\r\n\t\t\t\t})\r\n\t\t\t\tlog(itemarr);\r\n\t\t\t\tthis.classifarr = itemarr;\r\n\t\t\t},\r\n\t\t\t// 加价按钮\r\n\t\t\tpLus(amounts,indexs,index,price,image,input){\r\n\t\t\t\tthis.amount = Number(amounts)+ Number(1);\r\n\t\t\t\tthis.pushData(indexs,index,price,image,input);\r\n\t\t\t},\r\n\t\t\t// 减价按钮\r\n\t\t\treDuce(amounts,indexs,index,price,image,input){\r\n\t\t\t\tthis.amount = Number(amounts)- Number(1);\r\n\t\t\t\tthis.pushData(indexs,index,price,image,input);\r\n\t\t\t},\r\n\t\t\t// 加减价按钮公用函数\r\n\t\t\tpushData(indexs,index,price,image,input){\r\n\t\t\t\tlet findarr = this.classifarr.filter((item, index)=>{\r\n\t\t\t\t\tif(item._id === indexs){\r\n\t\t\t\t\t\tif(this.amount < 1){\r\n\t\t\t\t\t\t\treturn item.amount = '0';\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn item.amount = this.amount;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// log(findarr);\r\n\t\t\t\t// 得到更改的数组重新更新数组classifarr数组，数组顺序要保持不变\r\n\t\t\t\tthis.classifarr[index] = findarr[0];\r\n\t\t\t\t// 计算总价  单价*数量\r\n\t\t\t\tif(Number(this.amount) <= 0){\r\n\t\t\t\t\tthis.amount = 0;\r\n\t\t\t\t};\r\n\t\t\t\tlet Totalprice = parseFloat((Number(this.amount)* price).toFixed(2));\r\n\t\t\t\tlog(price);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t// \r\n\t\t\t\t// 把单个商品得到的总价作为一个对象push到一个数组中，方便多个商品计算总价\r\n\t\t\t\tlet fands = {\r\n\t\t\t\t\tindexs,\r\n\t\t\t\t\tTotalprice,\r\n\t\t\t\t\timage,\r\n\t\t\t\t\tinput,\r\n\t\t\t\t\t\"amount\": this.amount,\r\n\t\t\t\t\tprice\r\n\t\t\t\t};\r\n\t\t\t\tthis.arrtotalPrice.push(fands);\r\n\t\t\t\tlog(this.arrtotalPrice);\r\n\t\t\t\t// 查询当前点击商品_id，替换总价\r\n\t\t\t\tlet findarrdata = this.arrtotalPrice.map((item)=>{\r\n\t\t\t\t\treturn item.indexs === indexs ?  fands : item;\r\n\t\t\t\t});\r\n\t\t\t\t// log(findarrdata);\r\n\t\t\t\tthis.arrtotalPrice = findarrdata;\r\n\t\t\t},\r\n\t\t\t// 去结算按钮的事件\r\n\t\t\tsettLement(){\r\n\t\t\t\tlog('去结算');\r\n\t\t\t\t// 去结算前条件是否已经登录\r\n\t\t\t\tlet setdata = uni.getStorageSync('usermen');\r\n\t\t\t\tif(!setdata){\r\n\t\t\t\t\t// 用户没有登录\r\n\t\t\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\t\t\tthis.$refs.mon.modaishow = true;\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// 已经登录\r\n\t\t\t\t\tthis.$refs.mon.modaishow = false;\r\n\t\t\t\t\t/* 需要传递的值有：1.需要支付的总金额、2.配送费、3.用户openid、 \r\n\t\t\t\t\t\t4.商家标识、5.商家名称、6.商家名称、 7.点的商品个数 */\r\n\t\t\t\t\t// 需要支付的总金额\r\n\t\t\t\t\tlet payment = parseFloat((this.Takeawayprice+this.physical).toFixed(2));\r\n\t\t\t\t\tlet Ordering = {\r\n\t\t\t\t\t\tpayment,\r\n\t\t\t\t\t\tphysical: this.physical,\r\n\t\t\t\t\t\topenid: setdata.openid,\r\n\t\t\t\t\t\tMerchantId: this.MerchantId,\r\n\t\t\t\t\t\tnameshop: this.nameshop,\r\n\t\t\t\t\t\tlogo: this.logo,\r\n\t\t\t\t\t\tallorder: this.takeLength\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 路劲后不能携带对象和数组\r\n\t\t\t\t\tlet strorder = JSON.stringify(Ordering);\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:'../placeorder/placeorder?ide='+ strorder,\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tclauulaton(){\r\n\t\t\t\t// 监听总价\r\n\t\t\t\t// 1.数组对象去重----reduce\r\n\t\t\t\tlet arr = {};\r\n\t\t\t\tlet arrdata = this.arrtotalPrice.reduce((preVal,curVal)=>{\r\n\t\t\t\t\tarr[curVal.indexs] ?'' :arr[curVal.indexs] = true && preVal.push(curVal);\r\n\t\t\t\t\treturn preVal\r\n\t\t\t\t},[]);\r\n\t\t\t\t// log(arrdata);\r\n\t\t\t\t// 去除总价为0的商品\r\n\t\t\t\tthis.takeLength = arrdata.filter((item)=>{\r\n\t\t\t\t\treturn item.Totalprice != 0\r\n\t\t\t\t});\r\n\t\t\t\t// log(taoarr);\r\n\t\t\t\t// 所有商品的总价累计之和\r\n\t\t\t\tlet numdata = 0;\r\n\t\t\t\tarrdata.forEach((item)=>{\r\n\t\t\t\t\tnumdata += item.Totalprice;\r\n\t\t\t\t});\r\n\t\t\t\t// log(numdata);\r\n\t\t\t\t// 商品价格的总价\r\n\t\t\t\tthis.Takeawayprice = parseFloat(numdata.toFixed(2));\r\n\t\t\t},\r\n\t\t\t// 是否满足下单的条件\r\n\t\t\tcondition(){\r\n\t\t\t\tif(this.Takeawayprice === 0){\r\n\t\t\t\t\tthis.isActive = false;\r\n\t\t\t\t\tthis.flat = false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.isActive = true;\r\n\t\t\t\t\tthis.flat = true;\r\n\t\t\t\t\tif(this.Takeawayprice < this.delivering){\r\n\t\t\t\t\t\t// 不达到起送金额\r\n\t\t\t\t\t\t// this.isActive = true;\r\n\t\t\t\t\t\tthis.difference ='还差'+parseFloat((this.delivering - this.Takeawayprice).toFixed(2))+'元';\r\n\t\t\t\t\t\tthis.flat = false;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.difference = '去结算'\t;\r\n\t\t\t\t\t\tthis.flat = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t// 用户进入该页面，1.默认展示在第一个tabs(盖浇饭) 2.并且默认展示该分类下面的商品\r\n\t\t\torderingdata(newValue, oldValue) {\r\n\t\t\t\t// log(newValue);\r\n\t\t\t\t// 1.取出左边的商品分类\r\n\t\t\t\tlet classifdata = newValue.map((item)=>{\r\n\t\t\t\t\treturn item.optidata\r\n\t\t\t\t});\r\n\t\t\t\t// log(classifdata);\r\n\t\t\t\t// 数组去重\r\n\t\t\t\tthis.orderclass = Array.from(new Set(classifdata));\r\n\t\t\t\t// log(this.orderclass);\r\n\t\t\t\t// 2.右边商品\r\n\t\t\t\tthis.commodity = newValue;\r\n\t\t\t\t// 3.右边默认分类为第一个内容\r\n\t\t\t\tthis.ordertitle = newValue[0].optidata;\r\n\t\t\t\t// 4.往商品里面添加一个字段为0\r\n\t\t\t\tlet commodiydata = newValue.map((item)=>{\r\n\t\t\t\t\tlet key = 'amount';\r\n\t\t\t\t\tlet value = 0;\r\n\t\t\t\t\treturn item[key] = value;\r\n\t\t\t\t});\r\n\t\t\t\t// log(commodiydata);\r\n\t\t\t\t// 5.右边商品默认展示第一个tab里面的数据\r\n\t\t\t\tlet classifarr = newValue.filter((item)=>{\r\n\t\t\t\t\treturn item.optidata === newValue[0].optidata\r\n\t\t\t\t});\r\n\t\t\t\t// log(classifarr)\r\n\t\t\t\tthis.classifarr = classifarr;\r\n\t\t\t},\r\n\t\t\t// 商家介绍的数据\r\n\t\t\tbusidata(newValue,oldValue){\r\n\t\t\t\t// 商家配送费;\r\n\t\t\t\tlog(newValue);\r\n\t\t\t\tthis.physical = newValue.physical;\r\n\t\t\t\t// 商家起送费\r\n\t\t\t\tthis.delivering = newValue.delivering;\r\n\t\t\t\t// 商家标识\r\n\t\t\t\tthis.MerchantId = newValue.openid;\r\n\t\t\t\t// 商家名称\r\n\t\t\t\tthis.nameshop = newValue.shop;\r\n\t\t\t\t// 商家logo\r\n\t\t\t\tthis.logo = newValue.logo;\r\n\t\t\t}\r\n\t\t},\r\n\t}\n</script>\n\n<style scoped>\r\n\t.ordering-fls{\r\n\t\tdisplay: flex; \r\n\t\tjustify-content: space-between;\r\n\t}\r\n\t\r\n\t/* 左边商品分类 */\r\n\t.ordering-left{\r\n\t\twidth: 190upx; \r\n\t\tbackground: #fafafa;\r\n\t\toverflow-y: auto;\r\n\t\theight: 100%;\r\n\t}\r\n\t\r\n\t.ordering-left text{\r\n\t\tcolor: #a8a8a8;\r\n\t\tdisplay: block;\r\n\t\tfont-size: 28upx;\r\n\t\theight: 80upx;\r\n\t\tline-height: 80upx;\r\n\t\ttext-align: center;\r\n\t}\r\n\t\r\n\t.activeord{\r\n\t\tbackground: #FFFFFF !important; \r\n\t\tfont-weight: bold !important;\r\n\t}\r\n\t\r\n\t/* 右边 */\r\n\t.ordering-right{\r\n\t\twidth: 100%;\r\n\t\tpadding: 9upx 9upx 130upx 9upx;\r\n\t\toverflow: hidden;\r\n\t\toverflow-y: auto;\r\n\t}\r\n\t\r\n\t.activeord{\r\n\t\tbackground: #FFFFFF !important; \r\n\t\tfont-weight: bold !important;\r\n\t}\r\n\t\r\n\t.ordering-right-title{\r\n\t\tfont-size: 28upx;\r\n\t\theight: 60upx;\r\n\t\tline-height: 60upx;\r\n\t}\r\n\t\r\n\t.content-view{\r\n\t\tdisplay: flex; \r\n\t\tjustify-content: space-between;\r\n\t\theight: 200upx !important; \r\n\t\toverflow: hidden;\r\n\t\tmargin: 30upx 0;\r\n\t\tcolor: #898989;\r\n\t}\r\n\t\r\n\t.content-img{\r\n\t\twidth: 180rpx !important; \r\n\t\theight: 200rpx !important;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t\r\n\t.content-img image{\r\n\t\twidth: 100%; \r\n\t\theight: 100%; \r\n\t\tborder-radius: 10upx;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t\r\n\t.content-title{\r\n\t\t/* width: 100%; */\r\n\t\tpadding-left: 10upx;\r\n\t\tfont-size: 24upx;\r\n\t}\r\n\t\r\n\t.conteng-take{\r\n\t\tcolor: #333333;\r\n\t\theight: 50upx; \r\n\t\tfont-size: 33upx;\r\n\t\tfont-weight: bold;\r\n\t\tline-height: 50upx;\r\n\t\tdisplay: -webkit-box;\r\n\t\t-webkit-box-orient: vertical;\r\n\t\t-webkit-line-clamp: 1;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t\r\n\t.conteng-monthly{\r\n\t\tdisplay: flex;\r\n\t}\r\n\t\r\n\t.conteng-monthly text{\r\n\t\tbackground: #f1f1f1;\r\n\t\tmargin-right: 9upx;\r\n\t\tpadding: 4upx 13upx;\r\n\t\tborder-radius: 7upx;\r\n\t\tdisplay: block;\r\n\t}\r\n\t\r\n\t.conteng-starting{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\theight: 50upx;\r\n\t\tline-height: 50upx;\r\n\t}\r\n\t\r\n\t.conteng-price image{\r\n\t\twidth: 60upx; \r\n\t\theight: 60upx;\r\n\t}\r\n\t\r\n\t.conteng-price{\r\n\t\tdisplay: flex; \r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.ordering-price{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-around;\r\n\t\twidth: 100%;\r\n\t}\r\n\t\r\n\t/* 数量 */\r\n\t.amounting{\r\n\t\twidth: 50upx;\r\n\t\ttext-align: center;\r\n\t}\r\n\t\r\n\t.conteng-hua{\r\n\t\ttext-decoration: line-through;\r\n\t}\r\n\t\r\n\t.conteng-shi{\r\n\t\tcolor: #fb4e44; \r\n\t\tfont-size: 33upx;\r\n\t\twidth: 180upx;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t\r\n\t/* 购物车 */\r\n\t.Shopping{\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t}\r\n\t.Shopping-left{\r\n\t\theight: 130upx;\r\n\t\tbackground: #000000; \r\n\t\tflex-grow: 2;\r\n\t\tborder-top-left-radius: 50upx;\r\n\t\tborder-bottom-left-radius: 50upx;\r\n\t}\r\n\t.Shopping-right{\r\n\t\theight: 130upx;\r\n\t\tline-height: 130upx;\r\n\t\tfont-size: 30upx;\r\n\t\tcolor: #7f7f7f;\r\n\t\ttext-align: center;\r\n\t\tbackground: #000000; flex-grow: 1;\r\n\t\tborder-top-right-radius: 50upx;\r\n\t\tborder-bottom-right-radius: 50upx;\r\n\t}\r\n\t\r\n\t.Shopping-dis{\r\n\t\tdisplay: flex;\r\n\t\theight: 130upx;\r\n\t\tmargin: 0 20upx;\r\n\t}\r\n\t\r\n\t.qishou{\r\n\t\twidth: 120upx; \r\n\t\theight: 150upx;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0upx;\r\n\t\tleft: 50upx;\r\n\t}\r\n\t.qishou image{\r\n\t\twidth: 120upx; \r\n\t\theight: 150upx !important;\r\n\t}\r\n\t\r\n\t/* 定位 */\r\n\t.Delivery{\r\n\t\tcolor: #999999;\r\n\t\tfont-size: 28upx;\r\n\t\theight: 65upx;\r\n\t}\r\n\t\r\n\t.Shopping-left text{\r\n\t\tdisplay: block;\r\n\t}\r\n\t\r\n\t.Total-price{\r\n\t\tfont-size: 40upx; \r\n\t\tcolor: #FFFFFF;\r\n\t\theight: 65upx;\r\n\t\tline-height: 65upx;\r\n\t}\r\n\t\r\n\t.Cost-mony{\r\n\t\tpadding-left: 170upx; \r\n\t\tcolor: #4CD964;\r\n\t\theight: 130upx;\r\n\t}\r\n\t\r\n\t/* 数量 */\r\n\t.Numbering{\r\n\t\tbackground: red;\r\n\t\twidth: 40upx;\r\n\t\theight: 40upx;\r\n\t\tborder-radius: 50%;\r\n\t\tfont-size: 20upx;\r\n\t\tcolor: #FFFFFF;\r\n\t\ttext-align: center;\r\n\t\tline-height: 40upx;\r\n\t\tposition: fixed;\r\n\t\tbottom: 50upx;\r\n\t\tleft: 130upx;\r\n\t}\r\n\t\r\n\t/* 选中菜品 */\r\n\t.shoppactive{\r\n\t\tbackground: #ffd300 !important;\r\n\t\tcolor: #000000 !important;\r\n\t}\n</style>\n","import mod from \"-!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1596845263562\n      var cssReload = require(\"D:/火狐下载文件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}